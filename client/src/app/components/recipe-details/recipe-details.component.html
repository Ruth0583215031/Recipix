<div class="details-container" *ngIf="recipe" style="direction: rtl;">
  <a routerLink="/" class="btn-back">â¬…ï¸ ×—×–×¨×” ×œ×¨×©×™××”</a>
  
  <div class="main-header">
    <div class="title-area">
      <h1>{{ recipe.name }}</h1>
      <span class="badge" [ngClass]="recipe.type">{{ recipe.type }}</span>
    </div>

    <div class="rating-box text-center">
      <div class="avg-rating">
        <span class="score">{{ recipe.rating }}</span>
        <span class="stars">â­</span>
      </div>
      <small class="text-muted">×“×™×¨×•×’ ×’×•×œ×©×™×</small>

      <div class="user-rate-action mt-2" *ngIf="auth.isLoggedIn()">
        <p class="mb-1 small fw-bold">×“×¨×’/×™ ××ª ×”××ª×›×•×Ÿ:</p>
        <div class="btn-group">
          <button *ngFor="let s of [1,2,3,4,5]" 
                  (click)="rateRecipe(s)" 
                  class="btn btn-sm btn-outline-warning"
                  [title]="'×“×¨×’ ' + s + ' ×›×•×›×‘×™×'">
            {{ s }}
          </button>
        </div>
      </div>
    </div>
  </div>

  <div class="recipe-layout">
    <div class="image-gallery">
      <div class="main-image">
        <img [src]="recipe.image_url" alt="×ª××•× ×” ×¨××©×™×ª">
        <p class="img-caption">×ª××•× ×” ××§×•×¨×™×ª</p>
      </div>
      
      <div class="variations-grid">
        <div *ngFor="let v of recipe.variations" class="variation-item">
          <img [src]="getVariationUrl(v.path)" [alt]="v.title">
          <p class="img-caption">{{ v.title }}</p>
        </div>
      </div>
    </div>

    <div class="info-side">
      <h3>ğŸ“‹ ××¦×¨×›×™×:</h3>
      <ul class="ing-list">
        <li *ngFor="let ing of recipe.ingredients">
          <b>{{ ing.amount }} {{ ing.unit }}</b> - {{ ing.product }}
        </li>
      </ul>

      <hr>

      <h3>ğŸ‘¨â€ğŸ³ ×”×•×¨××•×ª ×”×›× ×”:</h3>
      <p class="instructions">{{ recipe.instructions }}</p>
    </div>
  </div>
</div>